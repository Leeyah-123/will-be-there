generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Event {
  id          String          @id @default(cuid()) @db.VarChar()
  userId      String          @map("user_id")
  name        String          @db.VarChar()
  description String          @db.VarChar()
  datetime    DateTime
  type        String          @db.VarChar()
  items       String[]        @db.VarChar()
  visibility  EventVisibility
  location    String          @db.VarChar()
  image       String?         @db.VarChar()
  maxGuests   Int?            @map("max_guests")

  createdAt DateTime @default(now()) @map("created_at")
  Rsvp      Rsvp[]

  @@map("events")
}

model Rsvp {
  id                    String   @id @default(cuid()) @db.VarChar()
  userId                String?  @map("user_id")
  name                  String?  @db.VarChar()
  email                 String   @db.VarChar()
  eventId               String   @map("event_id") @db.VarChar()
  congratulatoryMessage String?  @map("congratulatory_message") @db.Text
  items                 String[] @db.VarChar()
  uploads               String[] @db.VarChar()
  guests                String[] @db.VarChar()
  attending             Boolean

  event Event @relation(fields: [eventId], references: [id])
}

enum EventVisibility {
  PUBLIC  @map("Public")
  PRIVATE @map("private")
}
